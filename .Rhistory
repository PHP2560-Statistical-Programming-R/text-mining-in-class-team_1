# defining characters pattern
#characterpattern =  START  %R% one_or_more(WRD) %R% \xd0
characters_raw2 <- str_extract( characters_raw, capture (UPPER %R% one_or_more(WRD)) %R% SPC %R% capture(UPPER %R% one_or_more(WRD)))
if (packageVersion("devtools") < 1.6) {
install.packages("devtools")}
devtools::install_github("bradleyboehmke/harrypotter")
library(dplyr)
library(stringi)
library(harrypotter)
library(tidytext)
# tidying the text of the first book:
chamber_of_secrets_tidy <- data_frame( text = chamber_of_secrets, Book = "chamber_of_secrets") %>%
unnest_tokens(word, text)
# tidy the second book
deathly_hallows_tidy <- data_frame(text = deathly_hallows , Book = "deathly_hallows" ) %>%
unnest_tokens(word, text)
# the Third book
goblet_of_fire_tidy <- data_frame(text = goblet_of_fire, Book = "goblet_of_fire")%>%
unnest_tokens(word, text)
# the fourth book
half_blood_prince_tidy <- data_frame(text = half_blood_prince, Book = "half_blood_prince") %>%
unnest_tokens(word, text)
# the fifth book
order_of_the_phoenix_tidy <- data_frame(text = order_of_the_phoenix, Book = "order_of_the_phoenix") %>%
unnest_tokens(word, text)
# the sixth book
philosophers_stone_tidy <- data_frame(text = philosophers_stone, Book = "philosophers_stone" ) %>%
unnest_tokens(word, text)
# the seventh book
prisoner_of_azkaban_tidy <- data_frame(text = prisoner_of_azkaban, Book = "prisoner_of_azkaban") %>%
unnest_tokens(word, text)
# making one dataframe for all books
harrypoter <- rbind(chamber_of_secrets_tidy, deathly_hallows_tidy, goblet_of_fire_tidy, half_blood_prince_tidy, order_of_the_phoenix_tidy, philosophers_stone_tidy, prisoner_of_azkaban_tidy)
# what is the most mentioned Character
harrypoter %>%
count(word, sort = TRUE)
library(rebus)
# list of characters
# after making a txt file from "https://en.wikipedia.org/wiki/List_of_Harry_Potter_characters" then importing to R
characters_raw <- readLines("characters_ weki.txt")
# defining characters pattern
#characterpattern =  START  %R% one_or_more(WRD) %R% \xd0
characters_raw2 <- str_extract( characters_raw, capture (UPPER %R% one_or_more(WRD)) %R% SPC %R% capture(UPPER %R% one_or_more(WRD)))
library("stringr", lib.loc="/Library/Frameworks/R.framework/Versions/3.3/Resources/library")
# defining characters pattern
#characterpattern =  START  %R% one_or_more(WRD) %R% \xd0
characters_raw2 <- str_extract( characters_raw, capture (UPPER %R% one_or_more(WRD)) %R% SPC %R% capture(UPPER %R% one_or_more(WRD)))
# defining characters pattern
#characterpattern =  START  %R% one_or_more(WRD) %R% \xd0
characters_raw2 <- str_extract( characters_raw, capture (UPPER %R% one_or_more(WRD)) %R% SPC %R% capture(UPPER %R% one_or_more(WRD)))
characters_raw2
# defining characters pattern
#characterpattern =  START  %R% one_or_more(WRD) %R% \xd0
characters_raw2 <- str_extract( characters_raw, capture (UPPER %R% one_or_more(WRD)) %R% SPC %R% capture(UPPER %R% one_or_more(WRD)))
as.data.frame( characters_raw2)
# defining characters pattern
#characterpattern =  START  %R% one_or_more(WRD) %R% \xd0
characters_raw2 <- str_extract( characters_raw, capture (UPPER %R% one_or_more(WRD)) %R% SPC %R% capture(UPPER %R% one_or_more(WRD)))
as.data.frame( characters_raw2)
characters_raw2
# defining characters pattern
#characterpattern =  START  %R% one_or_more(WRD) %R% \xd0
characters_raw2 <- str_extract( characters_raw, capture (UPPER %R% one_or_more(WRD)) %R% SPC %R% capture(UPPER %R% one_or_more(WRD)))
as.data.frame( characters_raw2) %>%
filter(is.na = TRUE)
# defining characters pattern
#characterpattern =  START  %R% one_or_more(WRD) %R% \xd0
characters_raw2 <- str_extract( characters_raw, capture (UPPER %R% one_or_more(WRD)) %R% SPC %R% capture(UPPER %R% one_or_more(WRD)))
as.data.frame( characters_raw2) %>%
filter(na)
# defining characters pattern
#characterpattern =  START  %R% one_or_more(WRD) %R% \xd0
characters_raw2 <- str_extract( characters_raw, capture (UPPER %R% one_or_more(WRD)) %R% SPC %R% capture(UPPER %R% one_or_more(WRD)))
as.data.frame( characters_raw2) %>%
filter(NA)
# defining characters pattern
#characterpattern =  START  %R% one_or_more(WRD) %R% \xd0
characters_raw2 <- str_extract( characters_raw, capture (UPPER %R% one_or_more(WRD)) %R% SPC %R% capture(UPPER %R% one_or_more(WRD)))
as.data.frame( characters_raw2) %>%
filter(NA)
characters_raw2
# defining characters pattern
#characterpattern =  START  %R% one_or_more(WRD) %R% \xd0
characters_raw2 <- str_extract( characters_raw, capture (UPPER %R% one_or_more(WRD)) %R% SPC %R% capture(UPPER %R% one_or_more(WRD)))
as.data.frame( characters_raw2) %>%
filter(!NA)
# defining characters pattern
#characterpattern =  START  %R% one_or_more(WRD) %R% \xd0
characters_raw2 <- str_extract( characters_raw, capture (UPPER %R% one_or_more(WRD)) %R% SPC %R% capture(UPPER %R% one_or_more(WRD)))
as.data.frame( characters_raw2) %>%
filter(!NA)
characters_raw2
# defining characters pattern
#characterpattern =  START  %R% one_or_more(WRD) %R% \xd0
characters_raw2 <- str_extract( characters_raw, capture (UPPER %R% one_or_more(WRD)) %R% SPC %R% capture(UPPER %R% one_or_more(WRD)))
as.data.frame( characters_raw2) %>%
na.exclude()
characters_raw2
# defining characters pattern
#characterpattern =  START  %R% one_or_more(WRD) %R% \xd0
characters_raw2 <- str_extract( characters_raw, capture (UPPER %R% one_or_more(WRD)) %R% SPC %R% capture(UPPER %R% one_or_more(WRD)))
characters_raw3 <- cas.data.frame( characters_raw2) %>%
na.exclude()
# defining characters pattern
#characterpattern =  START  %R% one_or_more(WRD) %R% \xd0
characters_raw2 <- str_extract( characters_raw, capture (UPPER %R% one_or_more(WRD)) %R% SPC %R% capture(UPPER %R% one_or_more(WRD)))
characters_raw3 <- as.data.frame( characters_raw2) %>%
na.exclude()
characters_raw3
# extracting names only
characters_raw2 <- str_subset( characters_raw, capture (UPPER %R% one_or_more(WRD)) %R% SPC %R% capture(UPPER %R% one_or_more(WRD)))
# extracting names only
characters_raw2 <- str_subset( characters_raw, capture (UPPER %R% one_or_more(WRD)) %R% SPC %R% capture(UPPER %R% one_or_more(WRD)))
characters_raw2
# extracting names only
characters_raw2 <- str_sub( characters_raw, capture (UPPER %R% one_or_more(WRD)) %R% SPC %R% capture(UPPER %R% one_or_more(WRD)))
characters_raw2
# extracting names only
characters_raw2 <- str_extract( characters_raw, capture (UPPER %R% one_or_more(WRD)) %R% SPC %R% capture(UPPER %R% one_or_more(WRD)))
characters_raw3 <- as.data.frame( characters_raw2) %>%
na.exclude()
# extracting names only
characters_raw2 <- str_match( characters_raw, capture (UPPER %R% one_or_more(WRD)) %R% SPC %R% capture(UPPER %R% one_or_more(WRD)))
# extracting names only
characters_raw2 <- str_match( characters_raw, capture (UPPER %R% one_or_more(WRD)) %R% SPC %R% capture(UPPER %R% one_or_more(WRD)))
characters_raw2
# extracting names only
characters_raw2 <- str_match( characters_raw, capture (UPPER %R% one_or_more(WRD)) %R% SPC %R% capture(UPPER %R% one_or_more(WRD)))
characters_raw2
characters_raw3 <- as.data.frame( characters_raw2) %>%
na.exclude()
# extracting names only
characters_raw2 <- str_match( characters_raw, capture (UPPER %R% one_or_more(WRD)) %R% SPC %R% capture(UPPER %R% one_or_more(WRD)))
characters_raw2
characters_raw3 <- as.data.frame( characters_raw2) %>%
na.exclude()
characters_raw3
# extracting names only
characters_raw2 <- str_match( characters_raw, capture (UPPER %R% one_or_more(WRD)) %R% SPC %R% capture(UPPER %R% one_or_more(WRD)))
characters_raw2
characters_raw3 <- as.data.frame( characters_raw2) %>%
na.exclude()
characters_raw3 %>%
colnames(c("full name", "first ", "last"))
# extracting names only
characters_raw2 <- str_match( characters_raw, capture (UPPER %R% one_or_more(WRD)) %R% SPC %R% capture(UPPER %R% one_or_more(WRD)))
characters_raw2
characters_raw3 <- as.data.frame( characters_raw2) %>%
na.exclude()
characters_raw3 %>%
colnames(c("full name", "first ", "last"))
characters_raw3
# extracting names only
characters_raw2 <- str_match( characters_raw, capture (UPPER %R% one_or_more(WRD)) %R% SPC %R% capture(UPPER %R% one_or_more(WRD)))
characters_raw2
characters_raw3 <- as.data.frame( characters_raw2) %>%
na.exclude()
characters_raw3
colnames(characters_raw3, c("full name", "first ", "last"))
# extracting names only
characters_raw2 <- str_match( characters_raw, capture (UPPER %R% one_or_more(WRD)) %R% SPC %R% capture(UPPER %R% one_or_more(WRD)))
characters_raw2
characters_raw3 <- as.data.frame( characters_raw2) %>%
na.exclude()
characters_raw3  %>%
colnames( "full name", "first ", "last"))
# extracting names only
characters_raw2 <- str_match( characters_raw, capture (UPPER %R% one_or_more(WRD)) %R% SPC %R% capture(UPPER %R% one_or_more(WRD)))
characters_raw2
characters_raw3 <- as.data.frame( characters_raw2) %>%
na.exclude()
characters_raw3  %>%
colnames( "full name", "first ", "last")
# extracting names only
characters_raw2 <- str_match( characters_raw, capture (UPPER %R% one_or_more(WRD)) %R% SPC %R% capture(UPPER %R% one_or_more(WRD)))
characters_raw2
characters_raw3 <- as.data.frame( characters_raw2) %>%
na.exclude()
characters_raw3  %>%
colnames( prefix = c("full name", "first ", "last"))
characters_raw3
dim(characters_raw3)
# extracting names only
characters_raw2 <- str_match( characters_raw, capture (UPPER %R% one_or_more(WRD)) %R% SPC %R% capture(UPPER %R% one_or_more(WRD)))
characters_raw3 <- as.data.frame( characters_raw2) %>%
na.exclude()
colnames()  <- c( "full name", "first", "last")
# extracting names only
characters_raw2 <- str_match( characters_raw, capture (UPPER %R% one_or_more(WRD)) %R% SPC %R% capture(UPPER %R% one_or_more(WRD)))
characters_raw3 <- as.data.frame( characters_raw2) %>%
na.exclude() %>%
colnames()  <- c( "full name", "first", "last")
# extracting names only
characters_raw2 <- str_match( characters_raw, capture (UPPER %R% one_or_more(WRD)) %R% SPC %R% capture(UPPER %R% one_or_more(WRD)))
characters_raw3 <- as.data.frame( characters_raw2) %>%
na.exclude()
colnames(characters_raw3)  <- c( "full name", "first", "last")
# extracting names only
characters_raw2 <- str_match( characters_raw, capture (UPPER %R% one_or_more(WRD)) %R% SPC %R% capture(UPPER %R% one_or_more(WRD)))
characters_raw3 <- as.data.frame( characters_raw2) %>%
na.exclude()
colnames(characters_raw3)  <- c( "full name", "first", "last")
characters_raw3
# extracting names only
characters_raw2 <- str_match( characters_raw, capture (UPPER %R% one_or_more(WRD)) %R% SPC %R% capture(UPPER %R% one_or_more(WRD)))
characters_raw3 <- as.data.frame( characters_raw2) %>%
na.exclude()
colnames(characters_raw3)  <- c( "full name", "first", "last")
characters_raw4 <characters_raw3[-26,]
# extracting names only
characters_raw2 <- str_match( characters_raw, capture (UPPER %R% one_or_more(WRD)) %R% SPC %R% capture(UPPER %R% one_or_more(WRD)))
characters_raw3 <- as.data.frame( characters_raw2) %>%
na.exclude()
colnames(characters_raw3)  <- c( "full name", "first", "last")
characters_raw3[-26,]
# extracting names only
characters_raw2 <- str_match( characters_raw, capture (UPPER %R% one_or_more(WRD)) %R% SPC %R% capture(UPPER %R% one_or_more(WRD)))
characters_raw3 <- as.data.frame( characters_raw2) %>%
na.exclude()
colnames(characters_raw3)  <- c( "full name", "first", "last")
characters_raw3[!26,]
# extracting names only
characters_raw2 <- str_match( characters_raw, capture (UPPER %R% one_or_more(WRD)) %R% SPC %R% capture(UPPER %R% one_or_more(WRD)))
characters_raw3 <- as.data.frame( characters_raw2) %>%
na.exclude()
colnames(characters_raw3)  <- c( "full name", "first", "last")
characters_raw3[-26, ]
